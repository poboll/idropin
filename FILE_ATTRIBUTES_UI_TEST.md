# 文件属性管理UI测试指南

## 测试步骤

### 1. 访问任务管理页面
1. 打开浏览器访问：http://localhost:5224
2. 使用账号 `mdo` 密码 `891124wyh` 登录
3. 进入"任务管理"页面

### 2. 打开更多设置对话框
1. 选择任意一个任务
2. 点击任务卡片上的"更多设置"按钮
3. 应该看到一个弹出对话框，顶部有多个标签页

### 3. 查看文件属性管理标签页
1. 点击"文件属性管理"标签（在"模板文件"旁边）
2. 应该看到以下内容：

#### 文件类型限制区域
- 标题："文件类型限制"
- 两个按钮：
  - "不限制文件类型"（默认选中，蓝色背景）
  - "限制文件类型"（灰色背景）
- 点击"限制文件类型"后，下方会出现一个输入框
  - 占位符文本："例如: txt,png,jpeg,webp,pdf,doc,docx"
  - 提示文字："输入允许的文件扩展名，用逗号分隔，不区分大小写。例如：txt,png,jpeg,webp"

#### 最大文件数量区域
- 标题："最大同时提交文件数量"
- 一个滑块（范围 1-16）
- 一个数字输入框（显示当前值，默认10）
- 单位："个"
- 提示文字："设置用户一次最多可以提交多少个文件（1-16个）"

#### 文件最大大小区域
- 标题："单个文件最大大小"
- 一个数字输入框（默认0）
- 单位："字节 (Bytes)"
- 三个参考卡片：
  - "1 KB = 1,024 B"
  - "1 MB = 1,024 KB"
  - "1 GB = 1,024 MB"
- 提示文字："设置为 0 表示不限制文件大小。常用值：10MB = 10485760 字节，100MB = 104857600 字节"

#### 当前设置预览区域
- 浅蓝色背景的卡片
- 标题："当前设置预览"
- 显示三行信息：
  - "• 文件类型：不限制" 或 "• 文件类型：仅允许 xxx"
  - "• 最多提交：X 个文件"
  - "• 文件大小：不限制" 或 "• 文件大小：最大 X.XX MB"

### 4. 测试交互功能

#### 测试1：切换文件类型限制
1. 点击"限制文件类型"按钮
   - 按钮应该变为蓝色
   - "不限制文件类型"按钮变为灰色
   - 下方出现输入框
2. 在输入框中输入：`txt,png,pdf`
3. 查看底部预览，应该显示："• 文件类型：仅允许 txt,png,pdf"

#### 测试2：调整文件数量
1. 拖动滑块到不同位置
   - 右侧数字输入框应该同步更新
   - 底部预览应该显示新的数量
2. 在数字输入框中直接输入数字（如：5）
   - 滑块应该移动到对应位置
   - 底部预览应该更新
3. 尝试输入超出范围的值（如：20）
   - 应该被限制在16以内

#### 测试3：设置文件大小
1. 在文件大小输入框中输入：`10485760`（10MB）
2. 查看底部预览，应该显示："• 文件大小：最大 10.00 MB"
3. 输入 `0`
4. 查看底部预览，应该显示："• 文件大小：不限制"

#### 测试4：保存设置
1. 配置好所有设置后，点击底部的"保存设置"按钮
2. 应该看到右上角出现绿色的成功提示："设置保存成功"
3. 提示会在2秒后自动消失
4. 对话框自动关闭

#### 测试5：验证设置已保存
1. 重新打开同一个任务的"更多设置"
2. 切换到"文件属性管理"标签
3. 应该看到之前保存的设置都还在

### 5. 样式检查

#### 亮色模式
- 背景色应该是白色/浅灰色
- 文字清晰可读
- 按钮有明显的选中状态（蓝色）
- 预览卡片是浅蓝色背景

#### 暗色模式
1. 切换到暗色模式（点击右上角的主题切换按钮）
2. 重新打开"文件属性管理"标签
3. 检查：
   - 背景色应该是深色
   - 文字是浅色，清晰可读
   - 输入框有深色背景
   - 按钮在暗色模式下也清晰可见

### 6. 响应式测试
1. 调整浏览器窗口大小
2. 检查对话框是否适应不同屏幕尺寸
3. 在移动设备视图下测试（浏览器开发者工具）

## 预期结果

✅ 所有UI元素正确显示
✅ 交互功能正常工作
✅ 设置能够正确保存和加载
✅ 预览实时更新
✅ 亮色/暗色模式都正常显示
✅ 响应式布局正常

## 常见问题

### Q: 看不到"文件属性管理"标签
A: 确保前端代码已经更新并重新编译。检查浏览器控制台是否有错误。

### Q: 保存后设置没有生效
A: 检查后端服务是否正常运行，查看网络请求是否成功。

### Q: 输入框样式异常
A: 清除浏览器缓存，刷新页面重试。

### Q: 暗色模式下看不清文字
A: 这可能是CSS问题，检查 dark: 前缀的样式类是否正确应用。

## 测试完成标准

- [ ] 能够正常打开"文件属性管理"标签页
- [ ] 所有输入控件都能正常交互
- [ ] 预览区域实时更新
- [ ] 设置能够成功保存
- [ ] 重新打开后设置仍然存在
- [ ] 亮色和暗色模式都正常显示
- [ ] 没有控制台错误
- [ ] 响应式布局正常

## 后端服务状态

- 后端服务运行在：http://localhost:8081
- 前端服务运行在：http://localhost:5224
- 数据库：PostgreSQL (Docker container: devos-postgres)

确保所有服务都在运行中再进行测试。
