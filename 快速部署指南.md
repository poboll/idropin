# Idrop.in - äº‘é›† å¿«é€Ÿéƒ¨ç½²æŒ‡å—

## ğŸ“‹ éƒ¨ç½²å‰æ£€æŸ¥

### 1. ç¯å¢ƒè¦æ±‚

ç¡®ä¿ä½ çš„ç¯å¢ƒæ»¡è¶³ä»¥ä¸‹è¦æ±‚ï¼š

- **Java**: 17+
- **Maven**: 3.9+
- **Node.js**: 18+
- **npm**: 9+
- **Docker**: 20+

### 2. æ£€æŸ¥ç¯å¢ƒ

```bash
# æ£€æŸ¥Javaç‰ˆæœ¬
java -version

# æ£€æŸ¥Mavenç‰ˆæœ¬
mvn -version

# æ£€æŸ¥Node.jsç‰ˆæœ¬
node -v

# æ£€æŸ¥npmç‰ˆæœ¬
npm -v

# æ£€æŸ¥Dockerç‰ˆæœ¬
docker -v
```

### 3. è¿è¡Œä»£ç æ£€æŸ¥

```bash
# ç»™è„šæœ¬æ·»åŠ æ‰§è¡Œæƒé™
chmod +x check-code.sh

# è¿è¡Œä»£ç æ£€æŸ¥
./check-code.sh
```

ç¡®ä¿æ‰€æœ‰æ£€æŸ¥éƒ½é€šè¿‡ã€‚

## ğŸ³ Dockerå®¹å™¨éƒ¨ç½²

### 1. å¯åŠ¨PostgreSQL

```bash
# æ£€æŸ¥PostgreSQLå®¹å™¨æ˜¯å¦å­˜åœ¨
docker ps -a | grep postgres

# å¦‚æœä¸å­˜åœ¨ï¼Œåˆ›å»ºPostgreSQLå®¹å™¨
docker run -d \
  --name postgres \
  -e POSTGRES_DB=idropin \
  -e POSTGRES_USER=idropin \
  -e POSTGRES_PASSWORD=idropin123 \
  -p 5432:5432 \
  postgres:16

# å¦‚æœå·²å­˜åœ¨ï¼Œå¯åŠ¨å®¹å™¨
docker start postgres

# æ£€æŸ¥å®¹å™¨æ˜¯å¦è¿è¡Œ
docker ps | grep postgres
```

### 2. å¯åŠ¨Redis

```bash
# æ£€æŸ¥Rediså®¹å™¨æ˜¯å¦å­˜åœ¨
docker ps -a | grep redis

# å¦‚æœä¸å­˜åœ¨ï¼Œåˆ›å»ºRediså®¹å™¨
docker run -d \
  --name redis \
  -p 6379:6379 \
  redis:7-alpine

# å¦‚æœå·²å­˜åœ¨ï¼Œå¯åŠ¨å®¹å™¨
docker start redis

# æ£€æŸ¥å®¹å™¨æ˜¯å¦è¿è¡Œ
docker ps | grep redis
```

### 3. å¯åŠ¨MinIO

```bash
# æ£€æŸ¥MinIOå®¹å™¨æ˜¯å¦å­˜åœ¨
docker ps -a | grep minio

# å¦‚æœä¸å­˜åœ¨ï¼Œåˆ›å»ºMinIOå®¹å™¨
docker run -d \
  --name minio \
  -e MINIO_ROOT_USER=minioadmin \
  -e MINIO_ROOT_PASSWORD=minioadmin \
  -p 9000:9000 \
  -p 9001:9001 \
  minio/minio server /data --console-address ":9001"

# å¦‚æœå·²å­˜åœ¨ï¼Œå¯åŠ¨å®¹å™¨
docker start minio

# æ£€æŸ¥å®¹å™¨æ˜¯å¦è¿è¡Œ
docker ps | grep minio
```

### 4. åˆå§‹åŒ–æ•°æ®åº“

```bash
# è¿›å…¥PostgreSQLå®¹å™¨
docker exec -it postgres psql -U idropin -d idropin

# æ‰§è¡Œschema.sql
\i /docker-entrypoint-initdb.d/schema.sql

# æˆ–è€…ä»å¤–éƒ¨æ‰§è¡Œ
docker exec -i postgres psql -U idropin -d idropin < idropin-backend/src/main/resources/schema.sql

# é€€å‡º
\q
```

## ğŸš€ åç«¯éƒ¨ç½²

### 1. ç¼–è¯‘åç«¯

```bash
cd idropin-backend

# æ¸…ç†å¹¶ç¼–è¯‘ï¼ˆè·³è¿‡æµ‹è¯•ï¼‰
mvn clean package -DskipTests

# æŸ¥çœ‹ç¼–è¯‘ç»“æœ
ls -lh target/idropin-backend-1.0.0.jar
```

### 2. é…ç½®åç«¯

æ£€æŸ¥ `idropin-backend/src/main/resources/application.yml` é…ç½®æ–‡ä»¶ï¼Œç¡®ä¿ä»¥ä¸‹é…ç½®æ­£ç¡®ï¼š

```yaml
spring:
  datasource:
    url: jdbc:postgresql://localhost:5432/idropin
    username: idropin
    password: idropin123

  redis:
    host: localhost
    port: 6379

minio:
  endpoint: http://localhost:9000
  access-key: minioadmin
  secret-key: minioadmin
  bucket-name: idropin

jwt:
  secret: your-secret-key-at-least-256-bits-long-for-hs256-algorithm
  expiration: 86400000
```

### 3. å¯åŠ¨åç«¯

```bash
# æ–¹å¼1ï¼šç›´æ¥è¿è¡Œ
java -jar target/idropin-backend-1.0.0.jar

# æ–¹å¼2ï¼šåå°è¿è¡Œ
nohup java -jar target/idropin-backend-1.0.0.jar > backend.log 2>&1 &

# æ–¹å¼3ï¼šä½¿ç”¨å¿«é€Ÿå¯åŠ¨è„šæœ¬
cd ..
chmod +x start-project.sh
./start-project.sh
```

### 4. éªŒè¯åç«¯

```bash
# æ£€æŸ¥åç«¯æ˜¯å¦å¯åŠ¨
curl http://localhost:8080/actuator/health

# æŸ¥çœ‹APIæ–‡æ¡£
open http://localhost:8080/doc.html

# æŸ¥çœ‹åç«¯æ—¥å¿—
tail -f idropin-backend/backend.log
```

## ğŸ¨ å‰ç«¯éƒ¨ç½²

### 1. å®‰è£…ä¾èµ–

```bash
cd idropin-frontend

# å®‰è£…npmä¾èµ–
npm install

# å¦‚æœä½¿ç”¨pnpm
pnpm install

# å¦‚æœä½¿ç”¨yarn
yarn install
```

### 2. é…ç½®å‰ç«¯

æ£€æŸ¥ `idropin-frontend/.env` æˆ– `idropin-frontend/.env.local` æ–‡ä»¶ï¼Œç¡®ä¿ä»¥ä¸‹é…ç½®æ­£ç¡®ï¼š

```env
NEXT_PUBLIC_API_URL=http://localhost:8080
NEXT_PUBLIC_APP_NAME=Idrop.in - äº‘é›†
NEXT_PUBLIC_APP_DESCRIPTION=æ™ºèƒ½æ–‡ä»¶æ”¶é›†ä¸ç®¡ç†å¹³å°
```

### 3. å¯åŠ¨å‰ç«¯

```bash
# å¼€å‘æ¨¡å¼
npm run dev

# ç”Ÿäº§æ¨¡å¼æ„å»º
npm run build

# ç”Ÿäº§æ¨¡å¼è¿è¡Œ
npm start
```

### 4. éªŒè¯å‰ç«¯

```bash
# æ£€æŸ¥å‰ç«¯æ˜¯å¦å¯åŠ¨
curl http://localhost:3000

# åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€
open http://localhost:3000

# æŸ¥çœ‹å‰ç«¯æ—¥å¿—
tail -f idropin-frontend/frontend.log
```

## ğŸ§ª æµ‹è¯•

### 1. è¿è¡Œå•å…ƒæµ‹è¯•

```bash
cd idropin-backend

# è¿è¡Œæ‰€æœ‰æµ‹è¯•
mvn test

# è¿è¡Œç‰¹å®šæµ‹è¯•ç±»
mvn test -Dtest=FileServiceTest

# è¿è¡Œç‰¹å®šæµ‹è¯•æ–¹æ³•
mvn test -Dtest=FileServiceTest#testUploadFile
```

### 2. è¿è¡Œé›†æˆæµ‹è¯•

```bash
cd idropin-backend

# è¿è¡Œæ‰€æœ‰é›†æˆæµ‹è¯•
mvn verify

# æŸ¥çœ‹æµ‹è¯•æŠ¥å‘Š
open target/surefire-reports/index.html
```

### 3. æŸ¥çœ‹æµ‹è¯•è¦†ç›–ç‡

```bash
cd idropin-backend

# ç”Ÿæˆæµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Š
mvn jacoco:report

# æŸ¥çœ‹è¦†ç›–ç‡æŠ¥å‘Š
open target/site/jacoco/index.html
```

## ğŸ“Š åŠŸèƒ½æµ‹è¯•

### 1. ç”¨æˆ·è®¤è¯æµ‹è¯•

```bash
# æ³¨å†Œç”¨æˆ·
curl -X POST http://localhost:8080/api/auth/register \
  -H "Content-Type: application/json" \
  -d '{
    "username": "testuser",
    "email": "test@example.com",
    "password": "password123"
  }'

# ç™»å½•ç”¨æˆ·
curl -X POST http://localhost:8080/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{
    "username": "testuser",
    "password": "password123"
  }'
```

### 2. æ–‡ä»¶ä¸Šä¼ æµ‹è¯•

```bash
# ä¸Šä¼ æ–‡ä»¶ï¼ˆéœ€è¦å…ˆç™»å½•è·å–tokenï¼‰
curl -X POST http://localhost:8080/api/files/upload \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -F "file=@/path/to/your/file.pdf"
```

### 3. æœç´¢åŠŸèƒ½æµ‹è¯•

```bash
# æœç´¢æ–‡ä»¶
curl -X GET "http://localhost:8080/api/search?keyword=test&page=0&size=10" \
  -H "Authorization: Bearer YOUR_TOKEN"
```

## ğŸ› å¸¸è§é—®é¢˜

### 1. åç«¯å¯åŠ¨å¤±è´¥

**é—®é¢˜**: `java -jar target/idropin-backend-1.0.0.jar` å¯åŠ¨å¤±è´¥

**è§£å†³æ–¹æ¡ˆ**:
1. æ£€æŸ¥Javaç‰ˆæœ¬æ˜¯å¦ä¸º17+
2. æ£€æŸ¥PostgreSQLæ˜¯å¦æ­£åœ¨è¿è¡Œ
3. æ£€æŸ¥æ•°æ®åº“é…ç½®æ˜¯å¦æ­£ç¡®
4. æŸ¥çœ‹åç«¯æ—¥å¿—: `tail -f backend.log`

### 2. å‰ç«¯å¯åŠ¨å¤±è´¥

**é—®é¢˜**: `npm run dev` å¯åŠ¨å¤±è´¥

**è§£å†³æ–¹æ¡ˆ**:
1. åˆ é™¤node_modulesé‡æ–°å®‰è£…: `rm -rf node_modules && npm install`
2. æ£€æŸ¥Node.jsç‰ˆæœ¬æ˜¯å¦ä¸º18+
3. æ£€æŸ¥ç«¯å£3000æ˜¯å¦è¢«å ç”¨
4. æŸ¥çœ‹å‰ç«¯æ—¥å¿—: `tail -f frontend.log`

### 3. æ•°æ®åº“è¿æ¥å¤±è´¥

**é—®é¢˜**: åç«¯æ— æ³•è¿æ¥åˆ°PostgreSQL

**è§£å†³æ–¹æ¡ˆ**:
1. æ£€æŸ¥PostgreSQLå®¹å™¨æ˜¯å¦è¿è¡Œ: `docker ps | grep postgres`
2. æ£€æŸ¥æ•°æ®åº“é…ç½®æ˜¯å¦æ­£ç¡®
3. æ£€æŸ¥é˜²ç«å¢™è®¾ç½®
4. æµ‹è¯•æ•°æ®åº“è¿æ¥: `docker exec -it postgres psql -U idropin -d idropin`

### 4. Redisè¿æ¥å¤±è´¥

**é—®é¢˜**: åç«¯æ— æ³•è¿æ¥åˆ°Redis

**è§£å†³æ–¹æ¡ˆ**:
1. æ£€æŸ¥Rediså®¹å™¨æ˜¯å¦è¿è¡Œ: `docker ps | grep redis`
2. æ£€æŸ¥Redisé…ç½®æ˜¯å¦æ­£ç¡®
3. æµ‹è¯•Redisè¿æ¥: `docker exec -it redis redis-cli ping`

### 5. MinIOè¿æ¥å¤±è´¥

**é—®é¢˜**: åç«¯æ— æ³•è¿æ¥åˆ°MinIO

**è§£å†³æ–¹æ¡ˆ**:
1. æ£€æŸ¥MinIOå®¹å™¨æ˜¯å¦è¿è¡Œ: `docker ps | grep minio`
2. æ£€æŸ¥MinIOé…ç½®æ˜¯å¦æ­£ç¡®
3. è®¿é—®MinIOæ§åˆ¶å°: http://localhost:9001
4. åˆ›å»ºbucket: `idropin`

## ğŸ“ éƒ¨ç½²æ£€æŸ¥æ¸…å•

### åç«¯æ£€æŸ¥

- [ ] Javaç‰ˆæœ¬ >= 17
- [ ] Mavenç‰ˆæœ¬ >= 3.9
- [ ] PostgreSQLå®¹å™¨æ­£åœ¨è¿è¡Œ
- [ ] Rediså®¹å™¨æ­£åœ¨è¿è¡Œ
- [ ] MinIOå®¹å™¨æ­£åœ¨è¿è¡Œ
- [ ] æ•°æ®åº“å·²åˆå§‹åŒ–
- [ ] application.ymlé…ç½®æ­£ç¡®
- [ ] åç«¯ç¼–è¯‘æˆåŠŸ
- [ ] åç«¯å¯åŠ¨æˆåŠŸ
- [ ] åç«¯æ—¥å¿—æ— é”™è¯¯
- [ ] APIæ–‡æ¡£å¯è®¿é—®

### å‰ç«¯æ£€æŸ¥

- [ ] Node.jsç‰ˆæœ¬ >= 18
- [ ] npmç‰ˆæœ¬ >= 9
- [ ] ä¾èµ–å·²å®‰è£…
- [ ] ç¯å¢ƒå˜é‡å·²é…ç½®
- [ ] å‰ç«¯å¯åŠ¨æˆåŠŸ
- [ ] å‰ç«¯æ—¥å¿—æ— é”™è¯¯
- [ ] å‰ç«¯å¯è®¿é—®

### åŠŸèƒ½æ£€æŸ¥

- [ ] ç”¨æˆ·æ³¨å†ŒåŠŸèƒ½æ­£å¸¸
- [ ] ç”¨æˆ·ç™»å½•åŠŸèƒ½æ­£å¸¸
- [ ] æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½æ­£å¸¸
- [ ] æ–‡ä»¶ä¸‹è½½åŠŸèƒ½æ­£å¸¸
- [ ] æ–‡ä»¶æœç´¢åŠŸèƒ½æ­£å¸¸
- [ ] æ•°æ®åˆ†æåŠŸèƒ½æ­£å¸¸
- [ ] PWAåŠŸèƒ½æ­£å¸¸

## ğŸ‰ éƒ¨ç½²æˆåŠŸ

å¦‚æœä»¥ä¸Šæ‰€æœ‰æ£€æŸ¥éƒ½é€šè¿‡ï¼Œæ­å–œä½ ï¼Idrop.inäº‘é›†é¡¹ç›®å·²æˆåŠŸéƒ¨ç½²ï¼

ç°åœ¨ä½ å¯ä»¥ï¼š

1. è®¿é—®å‰ç«¯: http://localhost:3000
2. è®¿é—®åç«¯: http://localhost:8080
3. æŸ¥çœ‹APIæ–‡æ¡£: http://localhost:8080/doc.html
4. å¼€å§‹ä½¿ç”¨ç³»ç»Ÿï¼

## ğŸ“ è·å–å¸®åŠ©

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œè¯·å‚è€ƒï¼š

- [APIæ–‡æ¡£](APIæ–‡æ¡£.md) - APIæ¥å£æ–‡æ¡£
- [éƒ¨ç½²æ–‡æ¡£](éƒ¨ç½²æ–‡æ¡£.md) - è¯¦ç»†éƒ¨ç½²æŒ‡å—
- [ç”¨æˆ·æ‰‹å†Œ](ç”¨æˆ·æ‰‹å†Œ.md) - ç”¨æˆ·ä½¿ç”¨æŒ‡å—
- [é¡¹ç›®ç­”è¾©å‡†å¤‡](é¡¹ç›®ç­”è¾©å‡†å¤‡.md) - ç­”è¾©å‡†å¤‡

æˆ–è€…è”ç³»ï¼š

- é‚®ç®±: support@idrop.in
- GitHub Issues: https://github.com/your-org/idropin/issues

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0.0
**æœ€åæ›´æ–°**: 2026-01-14
