<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.idropin.infrastructure.persistence.mapper.CollectionTaskMapper">

    <insert id="insert" parameterType="com.idropin.domain.entity.CollectionTask">
        INSERT INTO collection_task (
            id,
            title,
            description,
            deadline,
            allow_anonymous,
            require_login,
            max_file_size,
            allowed_types,
            created_by,
            status,
            created_at,
            updated_at
        ) VALUES (
            #{id}::uuid,
            #{title},
            #{description},
            #{deadline},
            #{allowAnonymous},
            #{requireLogin},
            #{maxFileSize},
            #{allowedTypes, jdbcType=ARRAY, typeHandler=com.idropin.infrastructure.config.StringArrayTypeHandler},
            #{createdBy},
            #{status},
            #{createdAt},
            #{updatedAt}
        )
    </insert>

</mapper>
